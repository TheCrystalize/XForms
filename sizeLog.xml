<?xml version="1.0" encoding="utf-8"?>
<user_transforms>
	<transform_def name="sizeLog">
		<node name="input_params">
			<real name="sizeLog">1</real>
			<real name="sizeLog_size">1</real>
			<real name="sizeLog_spread">1</real>
		</node>

		<node name="internal_params">
			<real name="scale" />
			<real name="size" />
			<real name="osize" />
			<real name="spread" />
		</node>

		<int name="num_unit_randoms">3</int>

		<string name="winter_init_function">
			<![CDATA[
				sizeLog_init_result(sizeLog, sizeLog_size, 1 / sizeLog_size, sizeLog_spread)
			]]>
		</string>

		<string name="winter_eval_function">
			<![CDATA[
				let
					pSize = p_in * size
					var = cos((if(pSize.x > 0, pSize.x - floor(pSize.x), pSize.x + floor(pSize.x))) * pi())
					fpx = if(var < unit_rnd_0 * 2 - 1, if(pSize.x > 0.0, -1.0, 1.0), 0.0)
					th = vec2(pSize.x + fpx, pSize.y)
					tl = vec2(th.x + floor(log(unit_rnd_1) * if(unit_rnd_2 < 0.5, spread, -spread) + 0.5), th.y) * osize
				in
					tl * scale
			]]>
		</string>
	</transform_def>


</user_transforms>
